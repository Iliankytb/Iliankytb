local library = loadstring(game:HttpGet("https://raw.githubusercontent.com/Iliankytb/Iliankytb/main/Zentrix"))()

	local Version = "V.0.1"

local RunService = game:GetService("RunService")
local PlayersService = game:GetService("Players")
local LocalPlayer = PlayersService.LocalPlayer
local TweenService = game:GetService("TweenService")
local TeleportService = game:GetService("TeleportService")
local HttpService = game:GetService("HttpService")

library:CreateWindow({
	Title = "Blox Fruit scripted by Iliankytb",-- Title of the script
	Theme = "Default",--View more theme in my dicord server!
	Icon = 0,-- 0 = no icon or add number
	Intro = false,--Intro or no
	IntroTitle = "Zentrix Library Testing",--the intro title
	KeyPC = Enum.KeyCode.K,--the key for pc for Open/close the frame
	Data = {
		EnableSavingData = true,--Enabling data saver or no
		DisableNotifyingLoadedData = false,--set it to true for disable the notify when loaded data
		FolderName = "BloxFruit",--Folder Name,you can change it
		FileName = "Iliankytb",-- File name for the data saver,you can change it
	},
	Discord = {
		Enabled = false,--enable to copy the discord
		DiscordLink = "https://discord.gg/E2TqYRsRP4",-- put thr entire Link of discord
		RememberJoin = true,-- Set this ti false to make them copy the link every time they load the script
		Duration = 10,-- 5 is the default you can change the number only for remember join
	},
	KeySystem = false,--Key System or no
	KeySettings = {
		Title = "Zentrix Library Testing Key System",--Title of the key(just like that)
		Note = "the key is Zentrix",-- The method for obtaining
		FileName = "Key",-- File name or no for saving the key
		SaveKey = true,-- saving the key or no
		GrabKeyFromSite = false,--Coming soon
		Key = {"Zentrix"},-- the name you can add many name, Exemple "Key","Key2" or you can add a function to add key but i don't really know
		AddGetKeyButton = false,
		AddDiscordButton = true,
		DiscordLink = "NoInviteLink",
		GetKeyLink = "NoKeyLink",
	},
}, function(window)
	local InfoTab = window:CreateTab("Info",0)-- Tabs , 0 = no icon or add number
	local PlayerTab = window:CreateTab("Player",0)-- Tabs , 0 = no icon or add number
	local AutofarmTab = window:CreateTab("Autofarm",0)-- Tabs , 0 = no icon or add number
	local ShopTab = window:CreateTab("Shop",0)-- Tabs , 0 = no icon or add number
	local EspTab = window:CreateTab("Esp",0)-- Tabs , 0 = no icon or add number
    local SeaEventTab = window:CreateTab("Sea Event",0)-- Tabs , 0 = no icon or add number
local TeleportTab = window:CreateTab("Teleport Island",0)-- Tabs , 0 = no icon or add number
	local MiscTab = window:CreateTab("Misc",0)-- Tabs , 0 = no icon or add number
    local DiscordTab = window:CreateTab("Discord",0)-- Tabs , 0 = no icon or add number
	 local SettingsTab = window:CreateTab("Settings",0)-- Tabs , 0 = no icon or add number
	local ActiveDistanceEsp = false
    local DisableLimitRangerEsp  = false
    local ActivatedAutofarm = false
    local LimitRangerEsp  = 100
    local Autofarm = "Level"
    local TweenSpeedValue = 1
    local SpeedMultiplier = 1
    local ActiveModifyingSpeed = false
local WalkInWater = false
local DisabledInfStairs = false
local InTweaning = false
local jobId = game.JobId
local placeId = game.PlaceId 
local ESPs = {}
local Camera = workspace.CurrentCamera
local LineESPEnabled = false 
local LocationsAllIslandModel = workspace._WorldOrigin.Locations
local CurrentTween 

local ParagraphInfoServer = InfoTab:AddParagraph({Title = "",Content = "Loading",Name = "Paragraph1"})


local function CreateEsp(Char, Color, Text, Parent)
	if not Char or not Parent then return end
	if Char:FindFirstChild("ESP") and Char:FindFirstChildOfClass("Highlight") then return end

	
	local highlight = Char:FindFirstChildOfClass("Highlight") or Instance.new("Highlight")
	highlight.Name = "ESP_Highlight"
	highlight.Adornee = Char
	highlight.FillColor = Color
	highlight.FillTransparency = 1
	highlight.OutlineColor = Color
	highlight.OutlineTransparency = 0
	highlight.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
	highlight.Enabled = false
	highlight.Parent = Char

	
	local billboard = Char:FindFirstChild("ESP") or Instance.new("BillboardGui")
	billboard.Name = "ESP"
	billboard.Size = UDim2.new(0, 50, 0, 25)
	billboard.AlwaysOnTop = true
	billboard.StudsOffset = Vector3.new(0, -2, 0)
	billboard.Adornee = Parent
	billboard.Enabled = false
	billboard.Parent = Parent

	local label = billboard:FindFirstChildOfClass("TextLabel") or Instance.new("TextLabel")
	label.Size = UDim2.new(1, 0, 1, 0)
	label.BackgroundTransparency = 1
	label.Text = Text
	label.TextColor3 = Color
	label.TextScaled = true
	label.Parent = billboard

	local line = Drawing.new("Line")
	line.Visible = false
	line.Color = Color
	line.Thickness = 1.5
	line.Transparency = 1

	table.insert(ESPs, {
		Char = Char,
		Highlight = highlight,
		Billboard = billboard,
		Label = label,
		Part = Parent,
		Line = line,
		Text = Text,
		Color = Color
	})
end
local function TweenPlayerToPosition(targetPosition)
	local character = LocalPlayer.Character
	if not character then return end

	local root = character:FindFirstChild("HumanoidRootPart")
	if not root then return end

	root.CFrame = root.CFrame + Vector3.new(0, 15, 0)

	local distance = (root.Position - targetPosition.Position).Magnitude
	local tweenTime = distance / (125 * TweenSpeedValue)
	if tweenTime < 0.1 then tweenTime = 0.1 end

	local tweenInfo = TweenInfo.new(
		tweenTime,
		Enum.EasingStyle.Linear,
		Enum.EasingDirection.InOut
	)

	local goal = { CFrame = targetPosition }
	local tween = TweenService:Create(root, tweenInfo, goal)

	if CurrentTween then
		CurrentTween:Cancel()
		CurrentTween = nil
	end

	CurrentTween = tween
	InTweaning = true
	tween:Play()

	tween.Completed:Connect(function()
		InTweaning = false
		CurrentTween = nil
	end)
end

local function StopTween()
	if CurrentTween then
		CurrentTween:Cancel()
		CurrentTween = nil
		InTweaning = false
	end
end

local function GetAnotherServer()
	local servers = {}
	local cursor = ""
	repeat
		local response = game:HttpGet("https://games.roblox.com/v1/games/" .. placeId .. "/servers/Public?sortOrder=Asc&limit=100&cursor=" .. cursor)
		local data = HttpService:JSONDecode(response)
		for _, server in ipairs(data.data) do
			if server.playing < server.maxPlayers and server.id ~= game.JobId then
				table.insert(servers, server.id)
			end
		end
		cursor = data.nextPageCursor or ""
	until cursor == "" or #servers > 0

	return servers[math.random(1, #servers)]
end

    --notif--
	local Notif = window:Notify({
		Title = "Version of the script",
		Message = Version,
		Duration = 5,
	})
local function getServerInfo()
	local Players = game:GetService("Players")
	local playerCount = #Players:GetPlayers()
local maxPlayers = game:GetService("Players").MaxPlayers
local isStudio = game:GetService("RunService"):IsStudio()

	return {
		PlaceId = game.PlaceId,
		JobId = game.JobId,
		IsStudio = isStudio,
		CurrentPlayers = playerCount,
MaxPlayers =maxPlayers
	}
end
RunService.RenderStepped:Connect(function ()
task.spawn(function()
	local updatedInfo = getServerInfo()
	local updatedContent = string.format(
		"ðŸ“Œ PlaceId: %s\nðŸ”‘ JobId: %s\nðŸ§ª IsStudio: %s\nðŸ‘¥ Players: %d/%d",
		updatedInfo.PlaceId,
		updatedInfo.JobId,
		
		tostring(updatedInfo.IsStudio),
		updatedInfo.CurrentPlayers,
updatedInfo.MaxPlayers
	)

	ParagraphInfoServer:Set({
		Title = "Info",
		Content = updatedContent
	})
end)
	local cameraPosition = Camera.CFrame.Position
	local screenCenter = Vector2.new(Camera.ViewportSize.X / 2, Camera.ViewportSize.Y)
task.spawn(function()
	for _, esp in ipairs(ESPs) do
		local part = esp.Part
		local highlight = esp.Highlight
		local billboard = esp.Billboard
		local label = esp.Label
		local line = esp.Line
if not part or not highlight or not billboard or not label or not line then return end
		if part and part.Parent and highlight and billboard then
			local distance = (cameraPosition - part.Position).Magnitude
			local screenPos, onScreen = Camera:WorldToViewportPoint(part.Position)
			local withinRange = DisableLimitRangerEsp or distance <= LimitRangerEsp

			highlight.Enabled = withinRange and onScreen
			billboard.Enabled = withinRange and onScreen

			if ActiveDistanceEsp then
				label.Text = esp.Text .. " (" .. math.floor(distance + 0.5) .. " m)"
			else
				label.Text = esp.Text
			end

			if LineESPEnabled then
				if onScreen and withinRange then
					line.Visible = true
					line.From = screenCenter
					line.To = Vector2.new(screenPos.X, screenPos.Y)
				else
					line.Visible = false
				end
			else
				line.Visible = false
			end
		else
			if line then line.Visible = false end
		end
	end
    end)
if LocalPlayer and LocalPlayer.Character then
 if ActiveModifyingSpeed then
         LocalPlayer.Character:SetAttribute("SpeedMultiplier",SpeedMultiplier)
 end
 if DisabledInfStairs then
     if LocalPlayer.Character:FindFirstChild("InfiniteStairs") then
         LocalPlayer.Character:FindFirstChild("InfiniteStairs").Enabled = false
     end
 end
 if LocalPlayer.Character:FindFirstChildOfClass("Humanoid") then
    if  LocalPlayer.Character:FindFirstChildOfClass("Humanoid").Health == 0 then
   if InTweaning then
       InTweaning = false
   end
     end
 end
 if WalkInWater then
  LocalPlayer.Character:SetAttribute("WaterWalking",true)
 end
    if ActivatedAutofarm then
        if Autofarm == "Level" then
        if LocalPlayer.Data.Level.Value < 10 then
             if LocalPlayer:GetAttribute("ExactLocation") == "Underwater City" then
            if not InTweaning then
            InTweaning = true
             LocalPlayer.Character:FindFirstChild("HumanoidRootPart").CFrame = CFrame.new(61170.0469, -2, 1952.83398, 0.546648681, 0, 0.837362945, 0, 1, 0, -0.837362945, 0, 0.546648681)
            wait(1.5)
            InTweaning = false
            end
            else
            if LocalPlayer.Team == game:GetService("Teams"):FindFirstChild("Pirates") then
            if LocalPlayer:GetAttribute("ExactLocation") ~= "Pirate Starter"  then
             
             
                if not InTweaning then
TweenPlayerToPosition(CFrame.new(1058.9939, 16.3048782, 1551.67297, 0.999884427, -0.00210065395, -0.0150566101, 0.00300460216, 0.998177588, 0.060268797, 0.0149025619, -0.0603070781, 0.998068631))
                end
                end
            end
            end
        end
    end
    end
end
end)

  local Version = InfoTab:AddText({
		Text = "Version:"..Version,
		Name = "VersionScript"
	})

	local ButonDiscordLink = DiscordTab:AddButton({
		Text = "Discord Link",
		Name = "Button",
		Callback = function() 	
			library:CopyText("https://discord.gg/E2TqYRsRP4")
		end
	})
    	local ButonRejoin = MiscTab:AddButton({
		Text = "Rejoin",
		Name = "Button1",
		Callback = function() 	
        local Notif2 = window:Notify({
		Title = "Rejoin!",
		Message = "Currently Rejoining",
		Duration = 3,
	})
		TeleportService:TeleportToPlaceInstance(placeId, jobId, player)
        end
	})
    	local ButonServerHop = MiscTab:AddButton({
		Text = "Server Hop",
		Name = "Button2",
		Callback = function() 	
		local serverId = GetAnotherServer()
if serverId then
    local Notif4 = window:Notify({
		Title = "Server Hop!",
		Message = "Currently Server hoping!",
		Duration = 3,
	})
	TeleportService:TeleportToPlaceInstance(placeId, serverId, player)
else
local Notif3 = window:Notify({
		Title = "Server Hop!",
		Message = "it failed: Retry!",
		Duration = 3,
	})
end
end
	})
	--Toggle--
	local ToggleAFL = AutofarmTab:AddToggle({
		Text = "Autofarm Level",
		Name = "ToggleAFL",
		Flag = "ToggleAFL",--Put a name flag for save data if you enabled saving data
		Default = false,
		Callback = function(state)
        if not ActivatedAutofarm then
Autofarm = "Level"
ActivatedAutofarm = true
else
if Autofarm == "Level" then
    StopTween()
Autofarm = ""
    ActivatedAutofarm = false  
end
        end
		end
	})
	--Slider--
	local SliderSpeed = PlayerTab:AddSlider({
        Text = "Speed Multiplier (don't go too fast you will be kicked by anti cheat!)",
		Name = "Speed",
		Min = 0,
		Max = 1000,
		Default = 1,
		Flag = "SliderSpeed",--Put a name flag for save data if you enabled saving data
		Callback = function(val)
SpeedMultiplier = val
		end
	})
	--Toggle--
	local ToggleMS = PlayerTab:AddToggle({
		Text = "Active Modifying Speed",
		Name = "ToggleAMS",
		Flag = "ToggleAMS",--Put a name flag for save data if you enabled saving data
		Default = false,
		Callback = function(state)
        ActiveModifyingSpeed = state
        if ActiveModifyingSpeed then
         LocalPlayer.Character:SetAttribute("SpeedMultiplier",SpeedMultiplier)
       else
            LocalPlayer.Character:SetAttribute("SpeedMultiplier",1)
       
        end
		end
	})
	--Slider--
	local SliderTweenSpeed = SettingsTab:AddSlider({
        Text = "Tween Speed",
		Name = "Speed",
		Min = 1,
		Max = 2,
		Default = 1,
		Flag = "SliderTWSpeed",--Put a name flag for save data if you enabled saving data
		Callback = function(val)
TweenSpeedValue = val
		end
	})
    local CurrentChoosedIsland = ""
	   local CurrentIslandTable = {}
		local TeleportDropdown = TeleportTab:AddDropdown({
		Text = "Choosed Island:",
		Name = "Dropdown3",
		Options = CurrentIslandTable,
		Default = "",
		MultiSelect = false,
		Flag = "Dropdown3", --Put a name flag for save data if you enabled saving data
		Callback = function(choice)
CurrentChoosedIsland = choice
		end
	})
 
    for _, IslandsName in pairs(LocationsAllIslandModel:GetChildren()) do
        if IslandsName and IslandsName:IsA("BasePart") then
        if not table.find(CurrentIslandTable, IslandsName.Name) then
        table.insert(CurrentIslandTable, IslandsName.Name)
        end
        end
    end
    task.spawn(function ()
          print(table.concat(CurrentIslandTable, " "))
    end)
  
    TeleportDropdown:Refresh(CurrentIslandTable)
    local WasInAutoFarm = false
    local TweenToIslands = false
    --Toggle--
	local ToggleTPChoosedIsland = TeleportTab:AddToggle({
		Text = "Teleport to the choosed island",
		Name = "ToggleTPChoosedIsland",
		Flag = "ToggleTPChoosedIsland",--Put a name flag for save data if you enabled saving data
		Default = false,
		Callback = function(state)
      TweenToIslands = state

if TweenToIslands then

	if CurrentChoosedIsland ~= "" then
		
		if InTweaning then
			StopTween()
		end

		if ActivatedAutofarm then
			WasInAutoFarm = true
			ActivatedAutofarm = false
		end

		local island = LocationsAllIslandModel:FindFirstChild(CurrentChoosedIsland)
		if island then
			local CFrameFounded = island.CFrame + Vector3.new(0, 150, 0)

				if LocalPlayer:GetAttribute("ExactLocation") == "Underwater City" then
				if not InTweaning then
					InTweaning = true

					local root = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
					if root then
						root.CFrame = CFrame.new(
							61170.0469, -2, 1952.83398,
							0.546648681, 0, 0.837362945,
							0, 1, 0,
							-0.837362945, 0, 0.546648681
						)
					end

					task.wait(1.5)
					InTweaning = false
				end
			end
if not TweenToIslands then
    return
end
			if CurrentChoosedIsland == "Underwater City" then
				CurrentChoosedIsland = "Whirlpool"
				CFrameFounded -= Vector3.new(0, 150, 0)
			end

			TweenPlayerToPosition(CFrameFounded)
		end
	end

else
	if InTweaning then
		StopTween()
	end

	if WasInAutoFarm then
		ActivatedAutofarm = true
		WasInAutoFarm = false
	end
end

        end
	})
	local ChangeThemeDropdown = SettingsTab:AddDropdown({
		Text = "Change Theme:",
		Name = "Dropdown2",
		Options = {"Default", "Light", "RedDark","BlueNeon","GreenMatrix","PurpleDream","Sunset",
		"Ocean","Toxic","Storm","LimePop","Cyber","Chocolate","RoseGold","CottonCandy","NightSky","Steel",
			"GoldLux","Ice","TealWave","FrostFire","DarkMatter","Lava","PinkCandy","Sakura","DeepSpace","Skyline","Crimson"
			,"Desert","Camo","Plasma","Arctic","Slate","Vaporwave"
			
		},
		Default = "Default",
		MultiSelect = false,
		Flag = "Dropdown2", --Put a name flag for save data if you enabled saving data
		Callback = function(choice)
window:ChangeTheme(choice)
		end
	})

	--Toggle--
	local ToggleWalkInWater = MiscTab:AddToggle({
		Text = "Walk In Water",
		Name = "ToggleWIW",
		Flag = "ToggleWIW",--Put a name flag for save data if you enabled saving data
		Default = false,
		Callback = function(state)
     WalkInWater = state
      LocalPlayer.Character:SetAttribute("WaterWalking",WalkInWater)
		end
	})
    local LimitRangerEspSlider = SettingsTab:AddSlider({
Text =  "Limit Ranger for esp",
   Name ="LimitRangerEspSlider",
   Min =25,
   Max = 1000,
   Default = 100,
   Flag = "LimitRangerEsp1",
   Callback = function(Value)
CurrentValue = Value
LimitRangerEsp = Value
end,  LimitRangerEsp = CurrentValue,
})  
local DisableLimitRangerEspToggle = SettingsTab:AddToggle({
Text =  "Disable Limit Ranger Esp",
   Name ="DisableLimitRangerEspToggle",
   Default = false,
   Flag = "ButtonDLRE", 
   Callback = function(Value)
  DisableLimitRangerEsp = Value 
end,
})
local DistanceEspToggle = SettingsTab:AddToggle({
Text =  "Activate Distance For Esp",
   Name ="DistanceEspToggle",
   Default = false,
   Flag = "ButtonADFE", 
   Callback = function(Value)
  ActiveDistanceEsp = Value 
end,
})
    local TraitsToggle = SettingsTab:AddToggle({
Text =  "Trait for esp",
   Name ="TraitToggle",
   Default = false,
   Flag = "ButtonTTR", 
   Callback = function(Value)
  LineESPEnabled = Value 
end,
})
    	--Toggle--
	local ToggleInfStairs = MiscTab:AddToggle({
		Text = "Disable Infinite Stairs",
		Name = "ToggleInfStairs",
		Flag = "ToggleInfStairs",--Put a name flag for save data if you enabled saving data
		Default = false,
		Callback = function(state)
     DisabledInfStairs = state
 if DisabledInfStairs then
     if LocalPlayer.Character:FindFirstChild("InfiniteStairs") then
         LocalPlayer.Character:FindFirstChild("InfiniteStairs").Enabled = false
     end
     else
          if LocalPlayer.Character:FindFirstChild("InfiniteStairs") then
         LocalPlayer.Character:FindFirstChild("InfiniteStairs").Enabled = true
     end
 end
		end
	})
	--Loading Data--
	library:LoadData()--Add this if you want to load data and everytime at bottom of your code
end)
