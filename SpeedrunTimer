-- Créer le ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "TimerGui"
screenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui") -- Assurez-vous que cela se trouve dans le PlayerGui

-- Créer le TextLabel pour le timer
local timerLabel = Instance.new("TextLabel")
timerLabel.Name = "TimerLabel"
timerLabel.Size = UDim2.new(0, 200, 0, 50) -- Largeur et hauteur du label
timerLabel.Position = UDim2.new(0, 10, 0.5, -25) -- Aligné à gauche et centré verticalement
timerLabel.Text = "00:00"
timerLabel.TextScaled = true -- Pour ajuster le texte à la taille du label
timerLabel.Parent = screenGui

-- Créer le bouton pour arrêter le timer
local stopButton = Instance.new("TextButton")
stopButton.Name = "StopButton"
stopButton.Size = UDim2.new(0, 200, 0, 50) -- Largeur et hauteur du bouton
stopButton.Position = UDim2.new(0, 10, 0.7, 0) -- Aligné à gauche et un peu plus bas
stopButton.Text = "Arrêter le Timer"
stopButton.TextScaled = true -- Pour ajuster le texte à la taille du bouton
stopButton.Parent = screenGui

-- Variables pour le timer
local running = true -- Le timer démarre automatiquement
local minutes = 0
local seconds = 0

-- Fonction pour formater le temps sous la forme MM:SS
local function formatTime(mins, secs)
    return string.format("%02d:%02d", mins, secs)
end

-- Fonction pour mettre à jour l'affichage du timer
local function updateTimer()
    while running do
        wait(1)
        seconds = seconds + 1
        
        -- Si les secondes atteignent 60, on incrémente les minutes
        if seconds >= 60 then
            seconds = 0
            minutes = minutes + 1
        end

        -- Mettre à jour le label avec le temps formaté
        timerLabel.Text = formatTime(minutes, seconds)
    end
end

-- Fonction pour stopper le timer
local function stopTimer()
    running = false
    stopButton.Text = "Timer Arrêté"
end

-- Lancer la fonction de mise à jour du timer
spawn(updateTimer)

-- Connexion du bouton à l'arrêt du timer
stopButton.MouseButton1Click:Connect(stopTimer)

-- Ajouter le ScreenGui à la PlayerGui
screenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
