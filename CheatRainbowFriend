local Players = game:GetService("Players")
local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoidRootPart = character:WaitForChild("HumanoidRootPart")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")

-- Fonction pour créer un élément UI
local function createUIElement(className, parent, properties)
	local element = Instance.new(className)
	element.Parent = parent
	for prop, value in pairs(properties) do
		element[prop] = value
	end
	return element
end

-- Création de l'interface utilisateur
local Gui = Instance.new("ScreenGui", player.PlayerGui)
Gui.Enabled = true
Gui.ResetOnSpawn = false

local function createButton(text, parent)
	local button = createUIElement("TextButton", parent, {
		Size = UDim2.new(0.90, 0, 0, 50),
		Text = text,
		TextColor3 = Color3.fromRGB(255, 255, 255),
		Font = Enum.Font.GothamBold,
		TextSize = 16,
		BackgroundColor3 = Color3.fromRGB(50, 50, 50)
	})
	createUIElement("UIGradient", button, {
		Color = ColorSequence.new{
			ColorSequenceKeypoint.new(0, Color3.fromRGB(70, 70, 70)),
			ColorSequenceKeypoint.new(1, Color3.fromRGB(100, 100, 100))
		}
	})

	createUIElement("UIStroke", button, {
		Thickness = 2,
		Color = Color3.fromRGB(20, 20, 20),
		LineJoinMode = Enum.LineJoinMode.Round
	})

	createUIElement("UICorner", button, { CornerRadius = UDim.new(0.15, 0) })

	return button
end

-- Création du cadre principal
local Frame = Instance.new("Frame", Gui)
Frame.Size = UDim2.new(0.5, 0, 0.5, 0)
Frame.Position = UDim2.new(0.25, 0, 0.25, 0)
Frame.BackgroundTransparency = 0.2
Frame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)

-- Bouton pour ouvrir/fermer le menu
local ToggleFrameButton = createUIElement("TextButton", Gui, {
	Size = UDim2.new(0, 100, 0, 25),
	Position = UDim2.new(0.85, 0, 0.05, 0),
	Text = "Toggle Cheat Menu",
	TextColor3 = Color3.fromRGB(255, 255, 255),
	Font = Enum.Font.GothamBold,
	TextSize = 15,
	BackgroundColor3 = Color3.fromRGB(85, 170, 255)
})

-- Ajout du scrolling frame pour le menu
local ScrollingFrameMain = Instance.new("ScrollingFrame", Frame)
ScrollingFrameMain.Size = UDim2.new(1, 0, 1, 0)
ScrollingFrameMain.Position = UDim2.new(0, 0, 0, 0)
ScrollingFrameMain.BackgroundTransparency = 1
ScrollingFrameMain.CanvasSize = UDim2.new(0, 0, 0, 1000)

-- Effets UI (coins arrondis, contour)
local UiCorner = Instance.new("UICorner", Frame)
UiCorner.CornerRadius = UDim.new(0, 15)

local UiStroke = Instance.new("UIStroke", Frame)
UiStroke.Thickness = 1.5
UiStroke.Color = Color3.fromRGB(80, 150, 250)
UiStroke.LineJoinMode = Enum.LineJoinMode.Round

-- Fonction pour basculer la visibilité du menu
ToggleFrameButton.MouseButton1Click:Connect(function()
	Frame.Visible = not Frame.Visible
end)

-- Liste des objets à téléporter
local objectNames = { "lightbulb", "gascanister" }
local teleportTargets = {}

-- Trouver les objets dans le jeu avec les noms donnés
for _, objectName in pairs(objectNames) do
	for _, obj in pairs(workspace:GetChildren()) do
		if obj.Name == objectName then
			table.insert(teleportTargets, obj)
		end
	end
end

-- Vérification si la téléportation est activée
local canTeleport = false

-- Création du bouton de téléportation
local TeleportObjectButton = createButton("Auto Teleport Object Off", ScrollingFrameMain)

-- Fonction pour téléporter le joueur vers un objet aléatoire
local function TeleportToRandomObject()
	if #teleportTargets > 0 then
		local targetObject = teleportTargets[math.random(1, #teleportTargets)]
		humanoidRootPart.CFrame = targetObject.CFrame
		print("Téléporté à : " .. targetObject.Name)
	else
		print("Aucun objet trouvé pour la téléportation.")
	end
end

-- Fonction pour activer/désactiver la téléportation automatique
local function tpobject()
	canTeleport = not canTeleport
	if canTeleport then
		TeleportObjectButton.Text = "Auto Teleport Object On"
		while canTeleport do
			wait(1) -- Intervalle de 1 seconde entre chaque téléportation
			TeleportToRandomObject()
		end
	else
		TeleportObjectButton.Text = "Auto Teleport Object Off"
	end
end

-- Connecter le bouton à la fonction de téléportation
TeleportObjectButton.MouseButton1Click:Connect(tpobject)
