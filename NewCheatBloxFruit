local OrionLib = loadstring(Game:HttpGet("https://raw.githubusercontent.com/shlexware/Orion/main/source"))()
local Window = OrionLib:MakeWindow({Name = "New Cheat Blox Fruit(IliankYTB)", HidePremium = false, IntroEnabled = false,SaveConfig = true, ConfigFolder = "OrionTest"})

local EspChest = false
local ChestTeleport = false
local ChestTween = false
local TimerChestTeleport

local NameChest = {"Chest1", "Chest2", "Chest3"}

local TweenService = game:GetService("TweenService")
local Players = game:GetService("Players")
local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoidRootPart = character:WaitForChild("HumanoidRootPart")

-- Fonction pour trouver le coffre le plus proche
local function findNearestChest()
    local closestChest = nil
    local shortestDistance = math.huge

    for _, name in ipairs(NameChest) do
        for _, chest in pairs(workspace:GetChildren()) do
            if chest:IsA("BasePart") and chest.Name == name then
                local distance = (humanoidRootPart.Position - chest.Position).Magnitude
                if distance < shortestDistance then
                    closestChest = chest
                    shortestDistance = distance
                end
            end
        end
    end

    return closestChest
end

-- Fonction pour tweener vers le coffre
local function tweenToChest()
    if not ChestTween then
        print("ChestTween est désactivé.")
        return
    end

    local nearestChest = findNearestChest()
    if not nearestChest then
        print("Aucun coffre trouvé.")
        return
    end

    local tweenInfo = TweenInfo.new(
        5, -- Temps du tween
        Enum.EasingStyle.Linear, -- Style d'interpolation
        Enum.EasingDirection.Out -- Direction
    )
    local tweenGoal = {Position = nearestChest.Position + Vector3.new(0, 3, 0)} -- Légère élévation au-dessus du coffre

    local tween = TweenService:Create(humanoidRootPart, tweenInfo, tweenGoal)
    tween:Play()

    tween.Completed:Wait()
    print("Tween terminé.")
end

-- Exemple d'utilisation


-- Fonction unique pour gérer l'ajout de texte aux chests
local function HandleChestEsp()
    while EspChest do
        -- Parcourt les enfants du Workspace
        for _, object in pairs(workspace:GetChildren()) do
            if table.find(NameChest, object.Name) then
                -- Vérifie si l'objet n'a pas déjà un BillboardGui
                if not object:FindFirstChild("BillboardGui") then
                    -- Crée un BillboardGui pour afficher le texte
                    local billboard = Instance.new("BillboardGui")
                    billboard.Name = "BillboardGui"
                    billboard.Adornee = object
                    billboard.Size = UDim2.new(0, 100, 0, 50)
                    billboard.StudsOffset = Vector3.new(0, 3, 0)
                    billboard.AlwaysOnTop = true

                    -- Ajouter un label de texte
                    local textLabel = Instance.new("TextLabel", billboard)
                    textLabel.Size = UDim2.new(1, 0, 1, 0)
                    textLabel.BackgroundTransparency = 1

                    -- Applique une couleur spécifique au texte selon le nom du chest
                    if object.Name == "Chest1" then
                        textLabel.TextColor3 = Color3.fromRGB(139, 69, 19) -- Marron
                    elseif object.Name == "Chest2" then
                        textLabel.TextColor3 = Color3.fromRGB(255, 255, 0) -- Jaune
                    elseif object.Name == "Chest3" then
                        textLabel.TextColor3 = Color3.fromRGB(0, 0, 255) -- Bleu
                    else
                        textLabel.TextColor3 = Color3.new(1, 1, 1) -- Par défaut : Blanc
                    end

                    textLabel.TextScaled = true
                    textLabel.Text = object.Name -- Affiche le nom du chest (Chest1, Chest2, etc.)

                    -- Attacher le BillboardGui à l'objet
                    billboard.Parent = object
                end
            end
        end
        -- Attente pour éviter les surcharges
        task.wait(0.5)
    end

    -- Si EspChest devient false, détruire les BillboardGui existants
    if not EspChest then
        for _, object in pairs(workspace:GetChildren()) do
            if table.find(NameChest, object.Name) then
                local billboard = object:FindFirstChild("BillboardGui")
                if billboard then
                    billboard:Destroy()
                end
            end
        end
    end
end

-- Détecte les nouveaux objets ajoutés au Workspace
workspace.ChildAdded:Connect(function(child)
    if EspChest == true and table.find(NameChest, child.Name) then
        -- Ajoute directement l'affichage au nouvel objet
        HandleChestEsp()
    end
end)

local HubAutoFarmTab = Window:MakeTab({
Name = "Auto Farm",
Icon = "rbxassetid://4483345998",
PremiumOnly = false
})

OrionLib:MakeNotification({
	Name = "Alert!",
	Content = "I Will Adds Some Features Don't Worry BUDDY!",
	Image = "rbxassetid://4483345998",
	Time = 7.5
})

HubAutoFarmTab:AddToggle({
	Name = "Auto Farm Chest By Tweening(no kick)",
	Default = false,
	Callback = function(Value)
		ChestTween = Value
tweenToChest()
	end    
})


HubAutoFarmTab:AddToggle({
	Name = "Auto Farm Chest By Teleport(U Risk The Security kick)",
	Default = false,
	Callback = function(Value)
		
	end    
})
HubAutoFarmTab:AddToggle({
	Name = "Coming Soon",
	Default = false,
	Callback = function(Value)
		
	end    
})
HubAutoFarmTab:AddToggle({
	Name = "Coming Soon",
	Default = false,
	Callback = function(Value)
		
	end    
})
HubAutoFarmTab:AddToggle({
	Name = "Coming Soon",
	Default = false,
	Callback = function(Value)
		
	end    
})
HubAutoFarmTab:AddToggle({
	Name = "Coming Soon",
	Default = false,
	Callback = function(Value)
		
	end    
})
HubAutoFarmTab:AddToggle({
	Name = "Coming Soon",
	Default = false,
	Callback = function(Value)
		
	end    
})
HubAutoFarmTab:AddToggle({
	Name = "Coming Soon",
	Default = false,
	Callback = function(Value)
		
	end    
})
HubAutoFarmTab:AddToggle({
	Name = "Coming Soon",
	Default = false,
	Callback = function(Value)
		
	end    
})
HubAutoFarmTab:AddToggle({
	Name = "Coming Soon",
	Default = false,
	Callback = function(Value)
		
	end    
})
HubAutoFarmTab:AddToggle({
	Name = "Coming Soon",
	Default = false,
	Callback = function(Value)
		
	end    
})


local HubEspTab = Window:MakeTab({
Name = "Esp",
Icon = "rbxassetid://4483345998",
PremiumOnly = false
})

HubEspTab:AddToggle({
	Name = "Esp Player(Coming Very Soon)",
	Default = false,
	Callback = function(Value)
		
	end    
})

HubEspTab:AddToggle({
	Name = "Esp Chest",
	Default = false,
	Callback = function(Value)
		EspChest = Value
HandleChestEsp()
	end    
})


OrionLib:Init()
 
